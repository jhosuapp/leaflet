(function(a){typeof define=="function"&&define.amd?define(a):a()})(function(){"use strict";var g=(a,m,s)=>new Promise((b,i)=>{var u=t=>{try{c(s.next(t))}catch(e){i(e)}},n=t=>{try{c(s.throw(t))}catch(e){i(e)}},c=t=>t.done?b(t.value):Promise.resolve(t.value).then(u,n);c((s=s.apply(a,m)).next())});const a=i=>g(this,null,function*(){return yield(yield fetch(i)).json()}),m=(()=>{const i=(n,c=0,t=0,e=0)=>g(this,null,function*(){function w(o){const{population:d}=o.properties;return{fillColor:l(d),weight:1,opacity:1,color:"white",dashArray:"1",fillOpacity:.9}}function l(o){return o>6e7?"#800026":o>5e7?"#BD0026":(o>4e7,"#002345")}const p=L.map("map",{center:[c,t],zoom:e,minZoom:2});L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(p);const f=yield L.geoJson(n,{style:w}).addTo(p),r=yield L.control();r.onAdd=function(o){return this._div=L.DomUtil.create("div","info-control"),this.update(),this._div},r.update=function(o){this._div.innerHTML=o?`<strong>${o.name}</strong><br>Poblaci\xF3n:${o.population}`:"Pasa el cursor sobre un \xE1rea"},yield r.addTo(p),f.eachLayer(function(o){const{population:d,name:y}=o.feature.properties;o.on("mouseover",function(h){const v=h.target.feature.properties;r.update(v)}),o.on("mouseout",function(){r.update()}),o.bindPopup(`<strong>${y}</strong><br>Poblaci\xF3n:${d}`)})}),u=()=>g(this,null,function*(){yield a("./lib/colombia-country.geojson").then(n=>{console.log(n);const{features:c}=n;c.forEach(t=>{const{properties:e}=t;e["hc-key"]=e.region_code}),a("./lib/colombia-test-endpoint.json").then(t=>{const e=[];t.forEach(w=>{const{region_code:l,name:p,population:f}=w,{features:r}=n;r.forEach(d=>{const{properties:{region_code:y},properties:h}=d;l==y&&(h.name=p,h.population=f)});const o=[];o.push(l,f),e.push(o)}),console.log(e),i(n,4.710989,-74.072092,5),getLoader.remove(),getLegend.classList.add("active")}).catch(t=>{console.log(t+"second fetch")})}).catch(n=>{console.log(n+"fitst fetch")})});return{setHandleEvent:function(){try{u()}catch(n){console.log(n)}}}})(),s=()=>{m.setHandleEvent()},b="";window.addEventListener("load",()=>{s()})});
//# sourceMappingURL=mainscript.umd.cjs.map
